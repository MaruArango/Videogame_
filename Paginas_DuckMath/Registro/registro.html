<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro</title>
  <link rel="stylesheet" href="estilo_registro.css">
</head>
<body>

  <div class="menu-icon">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <div class="container">

    <div class="main-box">

      <div class="registro-label">Registro</div>

      <div class="inner-box">
        <div class="input-group">
          <label for="nombre">Nombre:</label>
        <div class="input-wrapper">
          <input type="text" id="nombre" name="nombre">
        </div>
        </div>
        

        <div class="input-group">
          <label for="correo">Correo:</label>
        <div class="input-wrapper">
          <input type="email" id="correo" name="correo">
        </div>
        </div>
        

        <div class="input-group">
          <label for="username">Username:</label>
        <div class="input-wrapper">
          <input type="text" id="username" name="username">
        </div>
        </div>
        

        <div class="input-group">
          <label for="password">Password:</label>
        <div class="input-wrapper">
          <input type="password" id="password" name="password">
        </div>
        </div>
      </div>

      <button class="continue-btn">Crear Cuenta</button>
      <a href="login.html" class="switch-btn">¿Ya tienes cuenta? Inicia sesión</a>


    </div>

    <img src="https://i.ibb.co/MyTQXLW9/Imagen-de-Whats-App-2025-02-24-a-las-12-56-54-9943a797-removebg-preview.png" alt="Pato" class="duck-img">

  </div>

</body>
</html>

<script>
  const correoInput = document.getElementById("correo");
const usernameInput = document.getElementById("username");
const passwordInput = document.getElementById("password");

const usuariosExistentes = ["usuario1", "admin", "test123"]; // Simulado

function crearIcono(id) {
    const icon = document.createElement("span");
    icon.id = id;
    icon.classList.add("estado-icono");
    return icon;
  }

function mostrarEstado(input, estado, mensaje) {
  let grupo = input.closest(".input-group");
  let icono = grupo.querySelector(".estado-icono");
  let mensajeEl = grupo.querySelector(".mensaje-validacion");

  // Crear icono si no existe
  if (!icono) {
    icono = document.createElement("span");
    icono.classList.add("estado-icono");
    grupo.querySelector(".input-wrapper").appendChild(icono);
  }

  // Crear mensaje si no existe
  if (!mensajeEl) {
    mensajeEl = document.createElement("div");
    mensajeEl.classList.add("mensaje-validacion");
    grupo.appendChild(mensajeEl);
  }

  if (estado === "valido") {
    icono.textContent = "✅";
    icono.style.color = "green";
    mensajeEl.textContent = "";
  } else if (estado === "invalido") {
    icono.textContent = "❌";
    icono.style.color = "red";
    mensajeEl.textContent = mensaje;
    mensajeEl.style.color = "red";
  }
}

  correoInput.addEventListener("input", () => {
    const valor = correoInput.value;
    if (valor.includes("@")) {
      mostrarEstado(correoInput, "valido");
    } else {
      mostrarEstado(correoInput, "invalido", "Correo inválido");
    }
  });

  usernameInput.addEventListener("input", () => {
    const valor = usernameInput.value;
    if (usuariosExistentes.includes(valor)) {
      mostrarEstado(usernameInput, "invalido", "Username ya existe");
    } else {
      mostrarEstado(usernameInput, "valido");
    }
  });

  passwordInput.addEventListener("input", () => {
    const valor = passwordInput.value;
    const seguro = /^(?=.*[A-Z])(?=.*\d).{8,}$/;
    if (seguro.test(valor)) {
      mostrarEstado(passwordInput, "valido");
    } else {
      mostrarEstado(passwordInput, "invalido", "La contraseña debe tener 1 mayúscula, 1 número y mínimo 8 caracteres");
    }
  });
</script>